sudo: required

language: node_js

node_js:
- stable

env:
  matrix:
  - NODE_ENV="development"
  - NODE_ENV="production"
  global:
  - secure: IoLIUm5e+GJItat7u4r78Bt1ZicFGxT8gM0NQo4SaiFbbdm7zd6zpMH9IS/3NrslpRP9ukn6YT0rSCAbdIkuqyfbEosHFHq6mv14L8g+9wWNQoLhxx4mk+PpG27mQ6+L/8KmEL6Y/BVIkq6q0iaDkUuybdDw9zxUMIP4lY8l++2+TuKniHtuHhba4Jkk6NL5bvqm1HyflozlotPCbfoLo84DnzA8TQGafw0DhIZE0pDxaXziaYM4OxXi21ufNBDTsigU2B4CZzXpaHKTPUk9HQUJNu2Eiay6o6JAr9OcGddAG4j7XfF6ooBXa898AlZ4fHzYlLlDPRlUSQALupS3dR6sIcILeB17Kkn+z8MCuoD/j9/BKhflVDncdScGEfSgE2Dyf4ERBu0D7Jp/zpgWILrjKv+TsRLNNNu6cjMqoLADAV9G3Py1EQbuI+fM1AOZ3w9puHChREQ/wh95ZlUr5ZTrEMdGE/Ijbt2gj0hqwnmX33vscpFZ4jz1WLeiq/vmBl7MmOP2ZInU4aC1e3SZTsFJFj6S5+mudEeqtEhbuwyq7eLud3zRrEjWpXnJGlOLdWxgIQwE1QiorSXVcNuTWg3JLOYYfSj4iICM1fzZB+4oKwP1EbM+3dvJWcld5Q8YvP03Gu2cGEKAjv2PD8qLP2KP3N6sYvcVyAnPF57nlQs=
  - secure: ghTi9A0CMXGC02iczVIwsA+p4b4fARLuvu5Vmjged1/WyyPboli+90CMk84UWr/5p6hK9Nx0Wj3P8JGdOLNtMTT/2oQ75YP1CbRudNSNiFJIBL6Xk1dOl9nVPT2xGIPxorQk9BJtzJmANICbkec65RSMrtY7H1khBssO6j32uuCLayGr2fvFO42dop8N1g0cJnC6sATNWPkg1dspCKtAP8o5pbhgFWfYIw7Zye3CGxbx1bDGqbGdIMezmBxBQqDrdjDNeBlrb1cT1H+JEWzXQBzM4o5Nf32P57S4w3ltK8PRg7w691G2BEBhjVB0wp8qamgO6r5/nwlN9x3fstshuwzfb52tJEXPRmd3b27OCGI91mS8HLJti66NzT00dI3j79ntQ22z6fVVO72t4XwK77pClKIBKGSoNaSQxd6jY8YMj6dApFaQ4n/AFxL4bp+SdgzMzK2Gm1zyK5/Vgw/T1YvCa+WTj0r10zd0p8QkfhkorKzlN+WzDUv6pbFQtR4gLp4IQt5RfBDB2bYLiwIiggyW5NjR8zAE7hP4Z1T8AM4ZLp3HC0eNanmPxIfeKF17Qvm51kOfwjKW4UYcFNi96GvEWDynEnB7OrI+gbAkVRdWRKtLV+WuuNWVMd7WvgZbcnI2zu0S1Ac0sj+qfiOMegeY8hWIou/hDenEIwD28eE=
  - secure: UXLkytAxhyeXkFYdLzrtuv8C3F0aZ73lGEqSYqfjaXLQ3GckJnKiIjkroLbkHAePsTRHa1DKYlAYQMoUmAXvzuHSXXWuGrMUG2b4pxebpMC2m6zy73gDo8w0To/f5lFE+3T0j6xo8mQcqCVvefSoaRKrtOhI1u2pERJTdAe8l0dRJPfMd2zUyS/0fWV7odxZZ9QyCMz0CISRvTI44RyHqWQCfwnzsDW+IQCnycAU4gbiysd+xYorX4NyGpyVeiSUNM7npW20nEHtgZ7h7Gpiqy9cVU3jFyGlUyO+lWteYys1+Ln69wa2UWCV1QrtjwQZIqsDMAYhqW+vvug208u8CPkUSZS4lzN/BVIGQ38QegHj62OOOoSeXHkJNPthvk47Z/nBCiNNl14/UHS8AS2SH1FTlY2n9/434vY6mv9jTV3wfyavC8SOfQI+aA+U/k0pFymE6X0YDwD/h+bGn9yZbs0ssXNzT7lBVzSHpef/6uveUDYMnWF0lS952nEO4VB05Ggimxfo+oY1jKp3i9moHC6yxcx/Cmg9a49Tdyws1IxnI8wvwCU5Tg1nd52BQOgaqtyZ5AsSkZAu7324r2/cgTsULo2uMV9znEcY31z7cSQxMZkt0ndlakaZZ9tlZXOqXwdziX9m+86DX9xkQ7WRHgNB4vXGYxALZbKYV8P00Es=
  - secure: AQiY5MrIxtt58rTAtX/prQmieoE3teTghNnECwckUHhq9xy6zmZAU9JuCZBCVdUWtbA3NtzgaGX0k7mNqSTbbDTA8+scrpVeh4kRYv+6ZFrO/nxVbFrlCM6Q0kEk3spxpK+84ChYHSj22774vQH+VGZfBKCehp6viwv2srqwH6IMvTmehzoDy40790M7gTFzTmxE6hFJEcKcURL7zxDMQmhIh4neGPzyStGGCH0KamCjpOnBzjizWsF30DcbX7ACftFuRxuNHy/PaB+NrRglSTxc79BmmPiAROsCv7+D76yaEDKO51Qi6oYJgO0cdwlK+hcUECF+yS5OQaHb20/wVmsDRzwk2aND+dKE4A8eB/ViX/hu9rdk+zbhYK3dCnF5azlyhmhH9kS/0sOSDSFKS6jfUJm0MMf1I6r0H2Mut9pSkScAXjPJDBukB/dGopepRL3CQ27MQtjWLA1yLT/MkYYOSo3PB5LLJi49RPH0unl7/6uHF7chAQCm+lEfqQq0Ah3PBxlXQCqE/gFY6RxiIcksB/olGJeJWYDR0/Xm40EIadr2C4X0S4eBHnzYFcSrMMdeFnPTnv2KLZ4tCxutXGmbEs1onVrfqe4jbNO636xnSIeKTr3cmQ3muGJs2qP9azB/Q9h6QOjsfhSGjJMuv5/BQQNtMBs8OHq+SRYPfnk=
  - secure: pnYB+tlh7S3wmqEoFDSB3EUpobD0NKhqpxbMMUL7BlkT3D+1GkKKlcqk2e57nrbDWT0TBqY1p15JyS6cZn/V3cjczjKt8JMeyP3sjX9cdM/VYsyhfSZX+I2FPJhwYW4Vt+QgJtWcCHrSLz3myiRdXLnEAm0wRYlyapLBlwaCvcoGHJVg8ZTMVMJ+JZWH/ookFi5gQlcey8nl5fpHgEfzLqwUsNggPXkncI/Rr3dFzytD5h6kHTY640s9TKQBKpTyuVqyoenRUVEXoojFxvuVDP2deCg8NdjArImcp1+ypuedpYctULU0PSx2aahEAS1CzJhbvuuUBlyFm3ZYm4hamGtL6mLrREDgRtQYRZ1BOZoW6diz/gNFPmuUV+2QZMQHg2X6Tv8wWmnPEart32y0SsHdZRf6WnHplwiWJA4NnArfDE5PkhYUDqzAESD9kQ3v330+cPwcsIWvW1k2CgT5+eZ+pRW+e4bYM2Byp6zB3dMGhbgcCDAtDgy00SO7ueLH8qdHU8y7wyhaLoH3fhJZnhnuWZNMY2ywPj0yJKrjE9eBPyCABwQMXn4SngsLN4HeNizEshIvk1Pi9K0cPWv6kREmnBrfHDjkUPvgczIZKs9XXZTsf+/Owm4qKbBP9DAaUBqAD/UWnj3ZT60TMbajyhNgVi0FCgGLbIGlt+rK9M0=
  - secure: SRs0RyY9rCjgveIo1fsb6L7JYyXyoX+8o/7H41MQAhQx/HDRbWgM0dQFV5/5I3QHFLEPGJhmk1+XPraoqSayjZvZ5RNV6B0wfms5L/185csDgZ3MBL0GeZAXUJyTikujZgFg1UaSCaPxKpByTKWM2TCQxIYPrHEeqcsbslXVVZETC0IHxxp8+Impj6E2vh828OsjaMBRo2K6NkEg/bpMvWJ+8K55+OQjiQaGl0a9svK0T5e7iEkJwfyTB5JbRURrYj0+wxE7mUwiQAfO/6Bu3IqVzQuWfOdMVdOpP2B62+proKW42Z4GD9gwuqgcxk5qJAxsc7fFJyMk5VrmlA9gtN8o/Er8NZRe9dWPMRoTVTjcPMIT9rQX0fNTPKUuBH+N8/gvn07MwHTMIZ1aTFmIuOcR/LP7GPWE+nLOgGUqQjlpqJR3Xgs2pYlUVR9qjKg7aFqRC5QejGjPhrcPDMoEOP92N3jGvsYjvzF6mwVadEpu3NpzxofKtatHznKjP2CY2KEkLxtMuzeRWSMIBBVA+wLCSRULA5tZfS5q0HQgjQsVpzaHw6KbsXC+mIS2HNFaZKPC9nNdWTOeajMRmirPBJHdNVBJST4jZZQT3Nq501c4L3J3jujsuWZquYfQCOaoyopsGzwMzJ/CYoRYbQ23KlATquyTdWUND4QYquKkkcg=
  - secure: bufGXPA6OvOwSFHptumG6xCEYav0zBtwWT6aENXwgyQuYZGMobX4FyJ33bajYS+HjdYua3KEhwyk6mJo1x5s42ut5Rdp8yQG8+lKeXeNmM/6YQGGZwtRKfWK1qC3SmEXZgkHKsjNHiX4M7sAP7CnkaTHQB1sYGlQE8aS0f911dw4j6fYeDbv1KlE4jPowV3xUVsl5JC7VPVpqAdbbmY+8YXfr9zcDBPXbrFwfZmw4+zgdH2bjBxqKVW9Zl9duV4sYAbH3RuwQxXfpg551lm+gz9V1bEwztx87oNPQQtAUPo9fph/dOF1Mu7FsvTWYnBO4qFQLctObr/+iFvBEjRHQRSN6hvFLq3ixsedy0KFWm12zXg7eIT+g4gRHvwScjXKt/fgj/HxLXklVt+wJCE1c2rYLB87CfAkSIkgRO2Uq5uLyawE8kuGmH2fL++CUwc+I5f+J/IiYOo3AeVUOGi8CvUApmAixSUgd0YDp4loQSA4eXSK4Ngzy4LAratcCsl/KpIvfmfr+OlaEtLtFaye7RXB17XJSa+kTszkrcxMCZPNVECSOUh6Dktn/myBK5vPl9M4KohEggC8MQbQqqWQwi2HeXaehR9wuTni/Dm5SRWFly+00/Gc4H/E8m2/riwHH3arh3nHnrqcNvIALwgDUz4H+yiMPDUt5yNAWBmzcW4=
  - secure: snsjfLl0eD4F0RZhREdVy6nFFr/GJCV2q806LTtHfMnXeaEqPKd9ZRcrHw84QJedb0lVQFu4yf5OPWv+m1Pf4BfpQszUbOqwHo0qtTRWQXdYKncyDZ05nefHCG7+Bdiq6iQzPk8LIGXR6d/+0utwpli3bbPe0qQZxQYpfrRKdt+GjD1BKSa8Y2ArawEOfFrQi2PfjnA4ilyN93e1gVJp5HA5TYdVdNA16TEs+UhHpzMtJKSbnGpD7IrvGgzvR/s1YkZOaSJ00mYisuEcqREsk4qFsyxuB+0R2rwu4chGKJtLSBB4lO8HTjWO2fwsvikzJ/+g/Bi87frYYNEd83Dvd/jUMJ83kdMQd9Ml3Du07On4rqhDN9x7ymNnWrTzMEPcZSG5tNLZwKncX3miNLOMa3m4FG3E905t5RuHIel05wmyOpwg/jvmgeA2tqo7MrIhzear7KY7GW8kjv9Ey3/fhHZUxJb1Nth0DukokfShR0ws/icvEMacvMvn/zwZ61gpn+NBOAmsFnXzGzMGf0kpmAL8SBewRLZ+4pzV8F8Ol6eqTLxSSMxjz56X5AoafhxtBTrP0OZKqt59hBsTwbBHV2WmiIuxelaGUQmW8GP5YyXd4ikJUVWH4SjY8q6j8ItR4e3IIgnZSurCAItZ7X0dngUGBYeFHct+8lnQWyl8Evc=

before_install:
- env | grep -E "^PD_" > .env
- docker build -t pokemongoers/pokedata .
- docker run --env-file .env -p 49160:8080 --name apidev -d pokemongoers/pokedata npm start
- docker ps -a
- docker logs apidev
- rm .env

services:
- mongodb
- docker

before_script:
- npm install grunt-cli -g
- npm install
